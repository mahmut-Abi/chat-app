# iOS è°ƒè¯•æŒ‡å—

## æŸ¥çœ‹æ—¥å¿—çš„æ–¹æ³•

### æ–¹æ³• 1: åº”ç”¨å†…æ—¥å¿—æŸ¥çœ‹å™¨

1. æ‰“å¼€åº”ç”¨
2. è¿›å…¥ã€Œè®¾ç½®ã€â†’ã€Œé«˜çº§ã€â†’ã€Œæ—¥å¿—æŸ¥çœ‹ã€
3. æŸ¥çœ‹æ—¥å¿—ï¼Œç‰¹åˆ«å…³æ³¨ï¼š
   - ğŸ”´ **Error** çº§åˆ«ï¼ˆçº¢è‰²ï¼‰
   - ğŸŸ  **Warning** çº§åˆ«ï¼ˆæ©™è‰²ï¼‰
   - ğŸ”µ **Debug** çº§åˆ«ï¼ˆè“è‰²ï¼‰- åŒ…å«é¡µé¢è½¬åœºä¿¡æ¯

4. ç‚¹å‡»å³ä¸Šè§’ã€Œå¯¼å‡ºã€æŒ‰é’®ï¼Œå¤åˆ¶æ‰€æœ‰æ—¥å¿—

### æ–¹æ³• 2: Xcode Console

å¦‚æœé€šè¿‡ Xcode è¿è¡Œï¼š

1. æ‰“å¼€ Xcode
2. Product â†’ Run (æˆ– Cmd+R)
3. æŸ¥çœ‹åº•éƒ¨çš„ Console é¢æ¿
4. ä½¿ç”¨è¿‡æ»¤å™¨æœç´¢å…³é”®è¯ï¼š
   - `Building page`
   - `BackgroundContainer`
   - `transition`
   - `navigation`
   - `ERROR`
   - `WARNING`

### æ–¹æ³• 3: è®¾å¤‡æ—¥å¿— (çœŸæœºè°ƒè¯•)

1. è¿æ¥ iPhone åˆ° Mac
2. æ‰“å¼€ Console.app (Mac åº”ç”¨)
3. é€‰æ‹©ä½ çš„è®¾å¤‡
4. è¿è¡Œåº”ç”¨ï¼ŒæŸ¥çœ‹å®æ—¶æ—¥å¿—

---

## éœ€è¦çš„è°ƒè¯•ä¿¡æ¯

è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯å¸®åŠ©å®šä½é—®é¢˜ï¼š

### 1. åŸºæœ¬ç¯å¢ƒ
- iOS ç‰ˆæœ¬ï¼š____
- è®¾å¤‡å‹å·ï¼š____
- Flutter ç‰ˆæœ¬ï¼šè¿è¡Œ `flutter --version`

### 2. é—®é¢˜é‡ç°æ­¥éª¤
```
ä¾‹å¦‚ï¼š
1. ä»ä¸»é¡µç‚¹å‡»è¿›å…¥ã€Œè®¾ç½®ã€
2. åœ¨è®¾ç½®é¡µé¢å‘å³æ»‘åŠ¨è¿”å›
3. è§‚å¯Ÿåˆ°ï¼š_____ (æè¿°çœ‹åˆ°çš„é—®é¢˜)
```

### 3. æ—¥å¿—å†…å®¹

**é”™è¯¯æ—¥å¿—** (å¦‚æœæœ‰):
```
è´´åœ¨è¿™é‡Œ
```

**è½¬åœºç›¸å…³æ—¥å¿—**:
```
è´´åœ¨è¿™é‡Œ
```

---

## å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: é¡µé¢è½¬åœºæœ‰ç™½è‰²é—ªçƒ

**å¯èƒ½åŸå› **:
- Scaffold backgroundColor ä¸æ˜¯ transparent
- BackgroundContainer æ²¡æœ‰æ­£ç¡®æä¾›èƒŒæ™¯

**æ£€æŸ¥æ—¥å¿—**:
æœç´¢ `BackgroundContainer rebuild`ï¼Œç¡®è®¤ï¼š
- `hasImage` çš„å€¼
- `opacity` çš„å€¼

### é—®é¢˜ 2: å³æ»‘æ‰‹åŠ¿ä¸å“åº”

**å¯èƒ½åŸå› **:
- ä½¿ç”¨äº† CustomTransitionPage è€Œä¸æ˜¯ CupertinoPage
- PopScope é˜»æ­¢äº†è¿”å›è¡Œä¸º

**æ£€æŸ¥æ—¥å¿—**:
æœç´¢ `Building page`ï¼Œç¡®è®¤ï¼š
- `platform` æ˜¯å¦ä¸º `iOS`
- æ˜¯å¦ä½¿ç”¨äº† CupertinoPage

### é—®é¢˜ 3: é¡µé¢è½¬åœºæœ‰æ®‹ç•™æˆ–é»‘è‰²èƒŒæ™¯

**å¯èƒ½åŸå› **:
- ColoredBox æ²¡æœ‰æ­£ç¡®åº”ç”¨
- é¡µé¢å±‚çº§é—®é¢˜

**æ£€æŸ¥ç‚¹**:
1. æŸ¥çœ‹ BackgroundContainer æ˜¯å¦åœ¨æœ€å¤–å±‚
2. ç¡®è®¤æ‰€æœ‰é¡µé¢ Scaffold ä½¿ç”¨ `backgroundColor: Colors.transparent`

---

## å¯¼å‡ºå®Œæ•´æ—¥å¿—çš„å‘½ä»¤

åœ¨åº”ç”¨çš„æ—¥å¿—æŸ¥çœ‹ç•Œé¢ï¼š

1. ç‚¹å‡»ã€Œå¯¼å‡ºæ—¥å¿—ã€æŒ‰é’®
2. é€‰æ‹©å¯¼å‡ºæ ¼å¼ï¼š
   - **æ–‡æœ¬æ ¼å¼** - æ˜“è¯»
   - **JSON æ ¼å¼** - ç»“æ„åŒ–
   - **CSV æ ¼å¼** - å¯å¯¼å…¥ Excel

3. æ—¥å¿—ä¼šå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œç„¶åç²˜è´´å‘é€ç»™æˆ‘

---

## å®æ—¶è°ƒè¯•æŠ€å·§

### 1. ä½¿ç”¨ Flutter DevTools

```bash
flutter pub global activate devtools
flutter pub global run devtools
```

ç„¶ååœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ï¼š
- Widget Inspector - æŸ¥çœ‹é¡µé¢å±‚çº§
- Performance - æŸ¥çœ‹æ¸²æŸ“æ€§èƒ½
- Logging - æŸ¥çœ‹å®æ—¶æ—¥å¿—

### 2. æ·»åŠ æ–­ç‚¹

åœ¨ Xcode ä¸­å¯ä»¥æ·»åŠ æ–­ç‚¹åˆ°ï¼š
- `app_router.dart` çš„ `_buildPage` æ–¹æ³•
- `background_container.dart` çš„ `build` æ–¹æ³•

### 3. æŸ¥çœ‹ Widget æ ‘

åœ¨åº”ç”¨è¿è¡Œæ—¶æŒ‰ï¼š
- **Cmd+Shift+P** (Mac)
- ç„¶åè¾“å…¥ `Flutter: Toggle Debug Paint`

å¯ä»¥çœ‹åˆ°é¡µé¢è¾¹ç•Œå’Œå±‚çº§

---

## å½“å‰ä»£ç çš„è°ƒè¯•ç‚¹

æˆ‘å·²ç»åœ¨ä»¥ä¸‹ä½ç½®æ·»åŠ äº†è°ƒè¯•æ—¥å¿—ï¼š

### app_router.dart
```dart
LogService().debug('Building page', {
  'path': state.path,
  'platform': PlatformUtils.isIOS ? 'iOS' : 'other',
  'pageKey': state.pageKey.toString(),
});
```

### background_container.dart  
```dart
LogService().debug('BackgroundContainer rebuild', {
  'hasImage': settings.backgroundImage != null,
  'opacity': settings.backgroundOpacity,
});
```

è¿™äº›æ—¥å¿—ä¼šå¸®åŠ©æˆ‘ä»¬äº†è§£ï¼š
- é¡µé¢ä½•æ—¶è¢«æ„å»º
- ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆå¹³å°çš„é¡µé¢
- èƒŒæ™¯å®¹å™¨ä½•æ—¶é‡å»º
- èƒŒæ™¯å›¾ç‰‡é…ç½®æƒ…å†µ

