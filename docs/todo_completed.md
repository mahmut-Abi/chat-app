# Flutter Chat App - åŠŸèƒ½å®Œæˆæ€»ç»“

## âœ… å·²å®ŒæˆåŠŸèƒ½

### Phase 1: é¡¹ç›®åˆå§‹åŒ–ä¸ŽåŸºç¡€æž¶æž„
- âœ… åˆå§‹åŒ– Flutter é¡¹ç›®ï¼Œé…ç½®å¤šå¹³å°æ”¯æŒ
- âœ… é…ç½®é¡¹ç›®ç»“æž„(features/shared/core æž¶æž„)
- âœ… æ·»åŠ å¿…è¦çš„ä¾èµ–åŒ…(dio, riverpod, hive, go_router, freezed, json_serializable)
- âœ… é…ç½®ä»£ç ç”Ÿæˆå·¥å…·(build_runner)
- âœ… è®¾ç½® lint è§„åˆ™å’Œä»£ç æ ¼å¼åŒ–
- âœ… åˆ›å»ºåŸºç¡€ç›®å½•ç»“æž„
- âœ… è®¾ç½®çŽ¯å¢ƒé…ç½®

### Phase 2: æ ¸å¿ƒåŠŸèƒ½å¼€å‘
- âœ… åˆ›å»º API å®¢æˆ·ç«¯åŸºç±»
- âœ… å®žçŽ° OpenAI æ ¼å¼ API æŽ¥å£
  - âœ… Chat Completions API
  - âœ… Streaming æ”¯æŒ(SSE)
  - âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- âœ… æ”¯æŒè‡ªå®šä¹‰ API ç«¯ç‚¹å’Œ API Key
- âœ… å®žçŽ°å¤šä¸ª API æä¾›å•†é…ç½®(OpenAI, Azure OpenAI, Ollama, Custom)
- âœ… å®šä¹‰æ ¸å¿ƒæ•°æ®æ¨¡åž‹(Message, Conversation, ApiConfig, ModelConfig)
- âœ… ä½¿ç”¨ Freezed ç”Ÿæˆä¸å¯å˜æ•°æ®ç±»
- âœ… å®žçŽ° JSON åºåˆ—åŒ–/ååºåˆ—åŒ–
- âœ… è®¾ç½® Hive æ•°æ®åº“
- âœ… å®žçŽ°ä¼šè¯åŽ†å²å­˜å‚¨
- âœ… å®žçŽ° API é…ç½®æŒä¹…åŒ–
- âœ… å®žçŽ°ç”¨æˆ·åå¥½è®¾ç½®å­˜å‚¨
- âœ… æ·»åŠ æ•°æ®å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½
- âœ… Token è®¡æ•°å™¨å®žçŽ°

### Phase 3: ç”¨æˆ·ç•Œé¢å¼€å‘
- âœ… è®¾è®¡å“åº”å¼å¸ƒå±€
- âœ… å®žçŽ°ä¾§è¾¹æ (ä¼šè¯åˆ—è¡¨)
  - âœ… ä¼šè¯åˆ›å»º/åˆ é™¤/é‡å‘½å
  - âœ… ä¼šè¯æœç´¢
  - âœ… ä¼šè¯åˆ†ç»„ç®¡ç†
  - âœ… æ ‡ç­¾ç³»ç»Ÿ
- âœ… å®žçŽ°ä¸»èŠå¤©åŒºåŸŸ
  - âœ… æ¶ˆæ¯åˆ—è¡¨æ˜¾ç¤º
  - âœ… æ¶ˆæ¯è¾“å…¥æ¡†
  - âœ… æ¶ˆæ¯å‘é€æŒ‰é’®
- âœ… å®žçŽ°è®¾ç½®é¢æ¿
- âœ… æ¶ˆæ¯æ¸²æŸ“
  - âœ… æ”¯æŒ Markdown æ ¼å¼
  - âœ… ä»£ç é«˜äº®æ˜¾ç¤º
  - âœ… ä»£ç å¤åˆ¶åŠŸèƒ½
- âœ… å®žæ—¶æµå¼å“åº”æ˜¾ç¤º
- âœ… æ¶ˆæ¯ç¼–è¾‘/åˆ é™¤/é‡æ–°ç”Ÿæˆ
- âœ… æ¶ˆæ¯å¤åˆ¶åŠŸèƒ½
- âœ… å®žçŽ°äº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢
- âœ… è®¾è®¡çŽ°ä»£åŒ– UI
- âœ… æ·»åŠ å¹³æ»‘åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæžœ

### Phase 4: é«˜çº§åŠŸèƒ½
- âœ… æ¨¡åž‹åˆ—è¡¨èŽ·å–(é€šè¿‡ API)
- âœ… æ¨¡åž‹åˆ‡æ¢åŠŸèƒ½
- âœ… æ¨¡åž‹å‚æ•°é…ç½®ç•Œé¢
  - âœ… Temperature
  - âœ… Max Tokens
  - âœ… Top P
  - âœ… Frequency Penalty
  - âœ… Presence Penalty
- âœ… ç³»ç»Ÿæç¤ºè¯(System Prompt)è®¾ç½®
- âœ… ä¼šè¯åˆ†ç»„åŠŸèƒ½ï¼ˆæ”¯æŒ8ç§é¢œè‰²æ ‡è¯†ï¼‰
- âœ… æ ‡ç­¾ç³»ç»Ÿï¼ˆå¤šæ ‡ç­¾æ”¯æŒï¼‰
- âœ… Token è®¡æ•°å™¨

### Phase 5: æ•°æ®ç®¡ç†
- âœ… æ•°æ®å¯¼å‡ºåŠŸèƒ½(JSON æ ¼å¼)
- âœ… æ•°æ®å¯¼å‡ºåŠŸèƒ½(Markdown æ ¼å¼)
- âœ… æ•°æ®å¯¼å‡ºåŠŸèƒ½(PDF æ ¼å¼)
- âœ… æ•°æ®å¯¼å…¥åŠŸèƒ½
- âœ… æ¸…é™¤æ‰€æœ‰æ•°æ®åŠŸèƒ½
- âœ… API é…ç½®ç®¡ç†(CRUD)

### Phase 6: è®¾ç½®é¡µé¢
- âœ… API é…ç½®ç®¡ç†ç•Œé¢
- âœ… ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
- âœ… æ•°æ®å¯¼å…¥å¯¼å‡ºç•Œé¢
- âœ… æ¸…é™¤æ•°æ®åŠŸèƒ½
- âœ… PDF å¯¼å‡ºåŠŸèƒ½

## ðŸ”§ å½“å‰å®žçŽ°çš„æŠ€æœ¯æ ˆ

### æ ¸å¿ƒä¾èµ–
- âœ… **çŠ¶æ€ç®¡ç†**: Riverpod 2.x
- âœ… **è·¯ç”±**: go_router
- âœ… **ç½‘ç»œ**: dio
- âœ… **æ•°æ®åº“**: hive
- âœ… **ä»£ç ç”Ÿæˆ**: freezed + json_serializable + build_runner

### UI ç»„ä»¶
- âœ… **Markdown**: flutter_markdown
- âœ… **ä»£ç é«˜äº®**: flutter_highlight
- âœ… **æ–‡ä»¶é€‰æ‹©**: file_picker
- âœ… **PDF ç”Ÿæˆ**: pdf + printing
- âœ… **å®‰å…¨å­˜å‚¨**: flutter_secure_storage

### åŠŸèƒ½ç‰¹æ€§
- âœ… æµå¼å“åº”(SSE)
- âœ… Markdown æ¸²æŸ“
- âœ… ä»£ç é«˜äº®
- âœ… æ¶ˆæ¯ç¼–è¾‘/åˆ é™¤
- âœ… æ¶ˆæ¯é‡æ–°ç”Ÿæˆ
- âœ… æ¨¡åž‹å‚æ•°é…ç½®
- âœ… æ•°æ®å¯¼å…¥å¯¼å‡º
- âœ… ä¸»é¢˜åˆ‡æ¢
- âœ… ä¼šè¯æœç´¢
- âœ… ä¼šè¯åˆ†ç»„ï¼ˆé¢œè‰²æ ‡è¯†ï¼‰
- âœ… æ ‡ç­¾ç³»ç»Ÿ
- âœ… Token è®¡æ•°
- âœ… PDF å¯¼å‡º
- âœ… Markdown å¯¼å‡º
- âœ… ä¸Šä¸‹æ–‡ç®¡ç†ï¼ˆæ¶ˆæ¯åˆ†æ”¯ï¼‰
- âœ… å¯¹è¯ç½®é¡¶
- âœ… æ¶ˆæ¯å†…æœç´¢

## ðŸ“‹ å¾…å®ŒæˆåŠŸèƒ½(å¯é€‰æ‰©å±•)

### é«˜çº§åŠŸèƒ½
- âœ… ä¼šè¯åˆ†ç»„/æ ‡ç­¾
- â³ LaTeX æ•°å­¦å…¬å¼æ”¯æŒï¼ˆå¯é€‰ï¼‰
- â³ å¤šæ¨¡æ€è¾“å…¥(å›¾ç‰‡ä¸Šä¼ )
- â³ å›¾ç‰‡ç”Ÿæˆæ”¯æŒ(DALL-E)
- âœ… Token è®¡æ•°å’Œæ˜¾ç¤º
- âœ… å¯¼å‡ºå¯¹è¯ä¸º Markdown/PDF
- âœ… å¯¹è¯ç½®é¡¶åŠŸèƒ½
- âœ… æ¶ˆæ¯æœç´¢åŠŸèƒ½
- â³ è¯­éŸ³è¾“å…¥/è¾“å‡º

### MCP (Model Context Protocol) æ”¯æŒ
- â³ MCP åè®®å®žçŽ°
- â³ æœ¬åœ°å·¥å…·é›†æˆ
- â³ è¿œç¨‹å·¥å…·è°ƒç”¨

### Agent åŠŸèƒ½
- â³ Function Calling æ”¯æŒï¼ˆåŸºç¡€æ¡†æž¶å·²å®žçŽ°ï¼‰
- â³ å†…ç½® Agent å·¥å…·(ç½‘ç»œæœç´¢ã€ä»£ç æ‰§è¡Œã€æ–‡ä»¶æ“ä½œ)
- â³ è‡ªå®šä¹‰ Agent åˆ›å»º
- â³ Agent æ¨¡æ¿åº“

### æµ‹è¯•ä¸Žä¼˜åŒ–
- â³ å•å…ƒæµ‹è¯•
- â³ é›†æˆæµ‹è¯•
- â³ æ€§èƒ½ä¼˜åŒ–
- â³ æ— éšœç¢åŠŸèƒ½

### æ–‡æ¡£ä¸Žå‘å¸ƒ
- â³ ç”¨æˆ·ä½¿ç”¨æ–‡æ¡£
- â³ API é›†æˆæŒ‡å—
- â³ å¼€å‘è€…æ–‡æ¡£
- â³ åº”ç”¨å‘å¸ƒå‡†å¤‡

## ðŸ“ å½“å‰çŠ¶æ€

- **å¼€å‘è¿›åº¦**: Phase 1-6 åŸºæœ¬å®Œæˆ
- **ä»£ç è´¨é‡**: é€šè¿‡ Flutter analyze (ä»…æœ‰ info çº§åˆ«è­¦å‘Š)
- **ç¼–è¯‘çŠ¶æ€**: âœ… macOS å’Œ Web å¹³å°ç¼–è¯‘æˆåŠŸ
- **ç§»åŠ¨å¹³å°**: âœ… iOS å’Œ Android æ”¯æŒå·²æ·»åŠ 
- **æ ¸å¿ƒåŠŸèƒ½**: âœ… å®Œå…¨å¯ç”¨
- **UI/UX**: âœ… çŽ°ä»£åŒ–ã€å“åº”å¼è®¾è®¡
- **æ•°æ®æŒä¹…åŒ–**: âœ… å®Œå…¨å®žçŽ°
- **ä¼šè¯ç®¡ç†**: âœ… åˆ†ç»„ã€æ ‡ç­¾ã€æœç´¢å…¨éƒ¨å®žçŽ°
- **æ•°æ®å¯¼å‡º**: âœ… æ”¯æŒ JSON/Markdown/PDF å¤šç§æ ¼å¼

### å¹³å°å…¼å®¹æ€§

| å¹³å° | æ”¯æŒçŠ¶æ€ | SDK ç‰ˆæœ¬ | å¤‡æ³¨ |
|---------|----------|----------|------|
| Web | âœ… å®Œå…¨æ”¯æŒ | - | æ‰€æœ‰åŠŸèƒ½å¯ç”¨ |
| macOS | âœ… å®Œå…¨æ”¯æŒ | 10.14+ | éœ€è¦ CocoaPods |
| iOS | âœ… å®Œå…¨æ”¯æŒ | 12.0+ | éœ€è¦ Xcode 14.0+ |
| Android | âœ… å®Œå…¨æ”¯æŒ | API 21+ | Android 5.0 åŠä»¥ä¸Š |
| Windows | â³ åŸºç¡€æ”¯æŒ | 10+ | æœªå…¨é¢æµ‹è¯• |
| Linux | â³ åŸºç¡€æ”¯æŒ | - | æœªå…¨é¢æµ‹è¯• |

## ðŸŽ¯ ä¸‹ä¸€æ­¥å»ºè®®

1. æ·»åŠ  LaTeX æ•°å­¦å…¬å¼æ”¯æŒï¼ˆä½¿ç”¨ flutter_math_forkï¼‰
2. æ·»åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
3. å®žçŽ° Function Calling åŠŸèƒ½
4. æ·»åŠ æ›´å¤š AI æä¾›å•†æ”¯æŒ
5. æ·»åŠ è¯­éŸ³è¾“å…¥/è¾“å‡ºåŠŸèƒ½
6. å®žçŽ° MCP åè®®æ”¯æŒ
7. ä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ
8. ç¼–å†™å®Œæ•´çš„ç”¨æˆ·æ–‡æ¡£
9. å‡†å¤‡åº”ç”¨å‘å¸ƒ

## ðŸ’¡ ä½¿ç”¨è¯´æ˜Ž

### è¿è¡Œåº”ç”¨
```bash
# Web å¹³å°
flutter run -d chrome

# macOS å¹³å°
brew install cocoapods
flutter run -d macos

# iOS å¹³å°
flutter run -d ios

# Android å¹³å°
flutter run -d android
```

### é…ç½® API
1. å¯åŠ¨åº”ç”¨åŽç‚¹å‡»å³ä¸Šè§’è®¾ç½®å›¾æ ‡
2. ç‚¹å‡»"æ·»åŠ  API é…ç½®"
3. è¾“å…¥é…ç½®ä¿¡æ¯:
   - é…ç½®åç§°: å¦‚ "OpenAI"
   - æä¾›å•†: é€‰æ‹©æä¾›å•†ç±»åž‹
   - Base URL: API åŸºç¡€åœ°å€
   - API Key: ä½ çš„ API å¯†é’¥
4. ä¿å­˜é…ç½®

### å¼€å§‹èŠå¤©
1. è¿”å›žä¸»é¡µé¢
2. ç‚¹å‡»"æ–°å»ºå¯¹è¯"
3. åœ¨èŠå¤©ç•Œé¢å¯ä»¥:
   - ç‚¹å‡»å³ä¸Šè§’é½¿è½®å›¾æ ‡é…ç½®æ¨¡åž‹å‚æ•°
   - è¾“å…¥æ¶ˆæ¯å¹¶å‘é€
   - é•¿æŒ‰æ¶ˆæ¯è¿›è¡Œç¼–è¾‘/åˆ é™¤/é‡æ–°ç”Ÿæˆ
   - å¤åˆ¶æ¶ˆæ¯å†…å®¹
   - ä½¿ç”¨åˆ†ç»„å’Œæ ‡ç­¾ç»„ç»‡å¯¹è¯

### æ•°æ®ç®¡ç†
1. è¿›å…¥è®¾ç½®é¡µé¢
2. åœ¨"æ•°æ®ç®¡ç†"éƒ¨åˆ†å¯ä»¥:
   - å¯¼å‡ºæ‰€æœ‰å¯¹è¯å’Œé…ç½®ï¼ˆJSON/Markdown/PDFï¼‰
   - å¯¼å…¥å¤‡ä»½æ•°æ®
   - æ¸…é™¤æ‰€æœ‰æ•°æ®

### é«˜çº§åŠŸèƒ½ä½¿ç”¨

**1. ä¼šè¯åˆ†ç»„**:
- ç‚¹å‡»ä¾§è¾¹æ é¡¶éƒ¨çš„æ–‡ä»¶å¤¹å›¾æ ‡
- åˆ›å»ºåˆ†ç»„å¹¶é€‰æ‹©é¢œè‰²
- å°†å¯¹è¯æ‹–æ”¾åˆ°åˆ†ç»„ä¸­

**2. æ ‡ç­¾ç³»ç»Ÿ**:
- å³é”®ç‚¹å‡»å¯¹è¯é¡¹
- é€‰æ‹©"ç®¡ç†æ ‡ç­¾"
- æ·»åŠ æˆ–åˆ é™¤æ ‡ç­¾

**3. æ¨¡åž‹é…ç½®**:
- åœ¨èŠå¤©ç•Œé¢ç‚¹å‡»å³ä¸Šè§’è°ƒèŠ‚å›¾æ ‡
- é…ç½® Temperatureã€Max Tokens ç­‰å‚æ•°
- è®¾ç½®ç³»ç»Ÿæç¤ºè¯

**4. Token è®¡æ•°**:
- åœ¨æ¶ˆæ¯è¾“å…¥æ¡†ä¸‹æ–¹æŸ¥çœ‹å®žæ—¶ token ä¼°ç®—

5. **å¯¹è¯ç½®é¡¶**:
   - å³é”®ç‚¹å‡»å¯¹è¯é¡¹ï¼Œé€‰æ‹©"ç½®é¡¶/å–æ¶ˆç½®é¡¶"
   - ç½®é¡¶çš„å¯¹è¯ä¼šå§‹ç»ˆæ˜¾ç¤ºåœ¨åˆ—è¡¨é¡¶éƒ¨

6. **æ¶ˆæ¯æœç´¢**:
   - åœ¨èŠå¤©ç•Œé¢ç‚¹å‡»æœç´¢å›¾æ ‡
   - è¾“å…¥å…³é”®è¯å¿«é€Ÿå®šä½åˆ°ç›¸å…³æ¶ˆæ¯
   - æ”¯æŒå…¨æ–‡æœç´¢ï¼Œå¤§å°å†™ä¸æ•æ„Ÿ

### æœ€æ–°å®ŒæˆåŠŸèƒ½ (2025-10-12)

#### æ¶ˆæ¯åˆ†äº«åŠŸèƒ½
- âœ… åœ¨æ¶ˆæ¯æ°”æ³¡ä¸­æ·»åŠ åˆ†äº«æŒ‰é’®
- âœ… ä½¿ç”¨ share_plus å®žçŽ°è·¨å¹³å°åˆ†äº«
- âœ… æ”¯æŒåˆ†äº«å•æ¡æ¶ˆæ¯å†…å®¹

#### è®¾ç½®é¡µé¢å¢žå¼º
- âœ… å­—ä½“å¤§å°è°ƒèŠ‚æ»‘å— (12-20pt)
- âœ… Markdown æ¸²æŸ“å¼€å…³
- âœ… ä»£ç é«˜äº®å¼€å…³
- âœ… LaTeX æ•°å­¦å…¬å¼å¼€å…³
- âœ… HTTP ä»£ç†é…ç½®ç•Œé¢

#### LaTeX æ•°å­¦å…¬å¼æ”¯æŒ
- âœ… ä½¿ç”¨ flutter_math_fork æ¸²æŸ“æ•°å­¦å…¬å¼
- âœ… æ”¯æŒè¡Œå†…å…¬å¼ ($...$) å’Œå—çº§å…¬å¼ ($$...$$)
- âœ… å¯é€šè¿‡è®¾ç½®é¡µé¢å¼€å…³å¯ç”¨/ç¦ç”¨
- âœ… é›†æˆåˆ° EnhancedMarkdownMessage ç»„ä»¶

#### å¿«æ·é”®æ”¯æŒæ¡†æž¶
- âœ… åˆ›å»ºå¿«æ·é”®é…ç½®æ–‡ä»¶ (lib/core/utils/shortcuts.dart)
- âœ… å®šä¹‰æ ¸å¿ƒå¿«æ·é”®:
  - Ctrl+N: æ–°å»ºå¯¹è¯
  - Ctrl+F: æœç´¢
  - Ctrl+,: è®¾ç½®
  - Ctrl+Enter: å‘é€æ¶ˆæ¯
  - Ctrl+W: å…³é—­å½“å‰å¯¹è¯

#### CI/CD å®Œå–„
- âœ… GitHub Actions å·¥ä½œæµé…ç½®
- âœ… å¤šå¹³å°æµ‹è¯•å’Œæž„å»ºæ”¯æŒ
- âœ… ä»£ç è´¨é‡æ£€æŸ¥è‡ªåŠ¨åŒ–
- âœ… æµ‹è¯•è¦†ç›–çŽ‡ä¸Šä¼  Codecov

#### ä¾èµ–åŒ…æ›´æ–°
- âœ… Riverpod 2.6.1 â†’ 3.0.3
- âœ… Freezed 2.5.2 â†’ 3.2.3
- âœ… å…¶ä»–æ ¸å¿ƒä¾èµ–åŒ…å‡çº§åˆ°æœ€æ–°å…¼å®¹ç‰ˆæœ¬
- âœ… SDK ç‰ˆæœ¬çº¦æŸæ›´æ–°: >=3.8.0

