# Bug ä¿®å¤æ€»ç»“

æœ¬ç›®å½•åŒ…å«æ‰€æœ‰å·²ä¿®å¤ bug çš„è¯¦ç»†æ–‡æ¡£ã€‚æ¯ä¸ª bug éƒ½æœ‰ç‹¬ç«‹çš„æ–‡æ¡£æ–‡ä»¶ï¼Œä¾¿äºè¿½è¸ªå’Œæ’æŸ¥é—®é¢˜ã€‚

## å·²ä¿®å¤çš„æ ¸å¿ƒé—®é¢˜

### 1. Bug #1: MCP å¥åº·æ£€æŸ¥å’Œ SSE æ”¯æŒ âœ…
**æ–‡ä»¶**: `bug-001-mcp-health-check-sse.md`

**ä¿®å¤å†…å®¹**:
- âœ… å®ç° MCP Server å¥åº·æ£€æŸ¥åŠŸèƒ½
- âœ… æ·»åŠ  SSE (Server-Sent Events) åè®®æ”¯æŒ
- âœ… æ”¹è¿› HTTP å’Œ Stdio å®¢æˆ·ç«¯çš„é”™è¯¯å¤„ç†
- âœ… å¢å¼ºæ—¥å¿—è®°å½•ï¼Œä¾¿äºè°ƒè¯•
- âœ… æ·»åŠ å¿ƒè·³æ£€æµ‹æœºåˆ¶

**å½±å“èŒƒå›´**: MCP åŠŸèƒ½æ ¸å¿ƒå¢å¼º

---

### 2. Bug #27-28: MCP å’Œ Agent é…ç½®æŒä¹…åŒ– âœ…
**æ–‡ä»¶**: `bug-027-028-mcp-agent-persistence.md`

**ä¿®å¤å†…å®¹**:
- âœ… éªŒè¯ MCP é…ç½®æŒä¹…åŒ–åˆ° Hive
- âœ… éªŒè¯ Agent é…ç½®æŒä¹…åŒ–åˆ° Hive
- âœ… ç¡®ä¿åº”ç”¨é‡å¯åé…ç½®ä¿ç•™
- âœ… æ·»åŠ è¯¦ç»†æ—¥å¿—è¿½è¸ªæŒä¹…åŒ–æ“ä½œ

**å½±å“èŒƒå›´**: æ•°æ®æŒä¹…åŒ–æ ¸å¿ƒåŠŸèƒ½

---

### 3. Bug #10: æœç´¢å¯¹è¯å¤±æ•ˆ âœ…
**æ–‡ä»¶**: `bug-010-search-conversation-failure.md`

**ä¿®å¤å†…å®¹**:
- âœ… éªŒè¯æœç´¢åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… æ·»åŠ è¯¦ç»†æ—¥å¿—è®°å½•
- âœ… æ”¹è¿›é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæ¡ä»¶
- âœ… æ·»åŠ ç©ºæ•°æ®æç¤º

**å½±å“èŒƒå›´**: æœç´¢åŠŸèƒ½ä¼˜åŒ–

---

### 4. Bug #11: è‡ªåŠ¨æ»šåŠ¨é—®é¢˜ âœ…
**æ–‡ä»¶**: `bug-011-auto-scroll-issue.md`

**ä¿®å¤å†…å®¹**:
- âœ… ä¿®å¤å¼ºåˆ¶è‡ªåŠ¨æ»šåŠ¨é—®é¢˜
- âœ… ç”¨æˆ·å¯ä»¥è‡ªç”±æŸ¥çœ‹å†å²æ¶ˆæ¯
- âœ… æ·»åŠ "æ»šåŠ¨åˆ°åº•éƒ¨"æ‚¬æµ®æŒ‰é’®
- âœ… æ™ºèƒ½æ£€æµ‹ç”¨æˆ·æ»šåŠ¨ä½ç½®
- âœ… åªåœ¨ç”¨æˆ·åœ¨åº•éƒ¨æ—¶è‡ªåŠ¨æ»šåŠ¨

**å½±å“èŒƒå›´**: ç”¨æˆ·ä½“éªŒé‡å¤§æ”¹è¿›

---

### 5. Bug #25-26: UI é€æ˜åº¦å’Œ Markdown æ¸²æŸ“ âœ…
**æ–‡ä»¶**: `bug-025-026-ui-transparency-markdown.md`

**ä¿®å¤å†…å®¹**:
- âœ… ç§»é™¤èƒŒæ™¯æ¨¡ç³ŠåŠŸèƒ½
- âœ… ä¼˜åŒ–é€æ˜åº¦è®¾ç½®ï¼Œé»˜è®¤ 20% é€æ˜
- âœ… ç®€åŒ– AppSettings é…ç½®
- âœ… æ”¹è¿› BackgroundContainer å®ç°

**å½±å“èŒƒå›´**: UI è§†è§‰æ•ˆæœä¼˜åŒ–

---

### 6. Bug #20: æ·»åŠ  DeepSeek ç­‰ API æ”¯æŒ ğŸ“
**æ–‡ä»¶**: `bug-020-deepseek-api-support.md`

**ä¿®å¤å†…å®¹**:
- ğŸ“ æ–‡æ¡£è®°å½•äº†éœ€è¦æ”¯æŒçš„ API æä¾›å•†
- ğŸ“ åŒ…æ‹¬ DeepSeekã€æ™ºè°±ã€æœˆä¹‹æš—é¢ã€ç™¾å·ç­‰
- â³ å¾…å®ç°ï¼ˆéœ€è¦åœ¨ UI ä¸­æ·»åŠ æä¾›å•†é€‰æ‹©ï¼‰

**å½±å“èŒƒå›´**: API å…¼å®¹æ€§æ‰©å±•

---

### 7. Bug #29: Token ç»Ÿè®¡æŒä¹…åŒ– ğŸ“
**æ–‡ä»¶**: `bug-029-token-statistics-persistence.md`

**ä¿®å¤å†…å®¹**:
- ğŸ“ è®¾è®¡äº† Token ç»Ÿè®¡æ•°æ®æ¨¡å‹
- ğŸ“ è§„åˆ’äº†æŒä¹…åŒ–æ–¹æ¡ˆ
- ğŸ“ å®šä¹‰äº† Provider å®ç°
- â³ å¾…å®ç°ï¼ˆéœ€è¦åˆ›å»ºæ–°çš„ domain ç±»å’Œ UIï¼‰

**å½±å“èŒƒå›´**: Token ä½¿ç”¨ç»Ÿè®¡åŠŸèƒ½

---

### 8. Bug #35: ç‰ˆæœ¬å‡çº§ âœ…
**æ–‡ä»¶**: `bug-035-version-upgrade.md`

**ä¿®å¤å†…å®¹**:
- âœ… ç‰ˆæœ¬ä» 1.0.0+1 å‡çº§åˆ° 1.1.0+2
- âœ… æ›´æ–° pubspec.yaml

**å½±å“èŒƒå›´**: ç‰ˆæœ¬ç®¡ç†

---

## å…¶ä»–å¾…ä¿®å¤é—®é¢˜

### Bug #17: åˆ†ç»„å¤±æ•ˆ â³
**æ–‡ä»¶**: `bug-017-group-management-failure.md`

éœ€è¦æ£€æŸ¥ ModernSidebar ä¸­åˆ†ç»„ç‚¹å‡»äº‹ä»¶å’ŒçŠ¶æ€ç®¡ç†ã€‚

---

## ä¿®å¤ç»Ÿè®¡

- âœ… **å·²å®Œæˆ**: 6 ä¸ª
- ğŸ“ **å·²è§„åˆ’**: 2 ä¸ª
- â³ **å¾…å¤„ç†**: 1 ä¸ª
- **æ€»è®¡**: 9 ä¸ªï¼ˆæ¥è‡ª 35 ä¸ªåŸå§‹é—®é¢˜ï¼‰

## é‡è¦æ³¨æ„äº‹é¡¹

### ä»£ç ç”Ÿæˆ
ä¿®æ”¹äº†ä»¥ä¸‹æ–‡ä»¶åï¼Œéœ€è¦è¿è¡Œä»£ç ç”Ÿæˆï¼š
```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

ç›¸å…³æ–‡ä»¶ï¼š
- `lib/features/settings/domain/api_config.dart`
- `lib/features/mcp/domain/mcp_config.dart`
- `lib/features/agent/domain/agent_tool.dart`

### æµ‹è¯•éªŒè¯

å»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºæµ‹è¯•ï¼š

1. **MCP åŠŸèƒ½**
   - åˆ›å»º MCP é…ç½®
   - æµ‹è¯•å¥åº·æ£€æŸ¥
   - æµ‹è¯• SSE è¿æ¥
   - é‡å¯åº”ç”¨éªŒè¯æŒä¹…åŒ–

2. **èŠå¤©åŠŸèƒ½**
   - å‘é€æ¶ˆæ¯
   - æ»šåŠ¨æŸ¥çœ‹å†å²
   - æµ‹è¯•æ‚¬æµ®æŒ‰é’®
   - æµ‹è¯•æœç´¢åŠŸèƒ½

3. **Agent åŠŸèƒ½**
   - åˆ›å»º Agent
   - æµ‹è¯•é…ç½®ä¿å­˜
   - é‡å¯åº”ç”¨éªŒè¯

4. **UI æ•ˆæœ**
   - æ£€æŸ¥é€æ˜åº¦
   - éªŒè¯èƒŒæ™¯æ¨¡ç³Šå·²ç§»é™¤

## æ–‡ä»¶ç»“æ„

```
bug_fixes/
â”œâ”€â”€ README.md (æœ¬æ–‡ä»¶)
â”œâ”€â”€ bug-001-mcp-health-check-sse.md
â”œâ”€â”€ bug-010-search-conversation-failure.md
â”œâ”€â”€ bug-011-auto-scroll-issue.md
â”œâ”€â”€ bug-017-group-management-failure.md
â”œâ”€â”€ bug-020-deepseek-api-support.md
â”œâ”€â”€ bug-025-026-ui-transparency-markdown.md
â”œâ”€â”€ bug-027-028-mcp-agent-persistence.md
â”œâ”€â”€ bug-029-token-statistics-persistence.md
â””â”€â”€ bug-035-version-upgrade.md
```

## ç›¸å…³èµ„æº

- **ä¸» Bug åˆ—è¡¨**: `../BUG.md`
- **å¼€å‘æŒ‡å—**: `../AGENTS.md`
- **é¡¹ç›®æ–‡æ¡£**: `../README.md`

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„ä¿®å¤ï¼Œè¯·å‚è€ƒå„ä¸ª bug æ–‡æ¡£ä¸­çš„è¯¦ç»†ä¿¡æ¯ã€‚
